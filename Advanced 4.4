#include <stdio.h>
#include <math.h>
#define ROZMIAR 20

unsigned long suma(unsigned long tab[ROZMIAR]){

  unsigned long sum = 0;

  for(int i = 0; i < ROZMIAR; i++){
    if(tab[i] <= 0){
      break;
    }
  sum += tab[i];
  }
  return sum;
}

float srednia(unsigned long tab[ROZMIAR]){

  unsigned long i;
  unsigned long sum = 0;
  float srednia = 0;

  for(i = 0; i < ROZMIAR; i++){
    if(tab[i] <= 0){
      break;
    }
  sum += tab[i];
  }
  srednia = (float)sum/i;
  return srednia;
}

double odchylenie(unsigned long tab[ROZMIAR]){

  int i = 0;
  double odchylenie = 0;
  double suma = 0;
  double wariancja = 0;

  for(i = 0; i < ROZMIAR; i++){
    if(tab[i] <= 0){
      break;
    }
    suma += pow(tab[i] - srednia(tab), 2);
  }
  wariancja = (double) suma / i;
  odchylenie = sqrt(wariancja);

  return odchylenie;
}

int main(void) {

unsigned long tab[ROZMIAR] = {0};
unsigned long temp;
int i = 0;

  do{
    printf("Podaj %d element: ", i+1);
    scanf("%lu", &temp);
    if(temp <= 0){
      break;
    }
    tab[i++] = temp;
  }while(i < ROZMIAR);

  printf("Suma wynosi: %lu\n", suma(tab));
  printf("Srednia wynosi: %.2f\n", srednia(tab));
  printf("Odchylenie standarowe wynosi: %.5lf", odchylenie(tab));

return 0;
}


/* żeby biblioteka math.h zadziałała 
gcc main.c -lm -o main
./main
*/